(this["webpackJsonpcasino-admin"]=this["webpackJsonpcasino-admin"]||[]).push([[31],{1185:function(e,t,a){"use strict";a.r(t);var s=a(5),n=a.n(s),r=a(13),o=a(8),i=a(20),c=a(239),d=a(196),l=a(71),u=a(462),j=a(472),b=a(1181),p=a(917),m=a(450),h=a(824),O=a(456),f=a(16),w=a(4),v=a(356),x=a(447),g=a(0),y=a(758),S=/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,15}$/,P=y.d().shape({password:y.f().min(8,"Password should be minimum 8 characters long").max(150,"Password should be maximum 150 Characters").matches(S,"Password must include uppercase, lowercase, number and special symbol").required("Please enter the password"),confirm_password:y.f().min(8,"Password should be min 8 characters").max(15,"Password should be max 15 characters").matches(S,"Password must include uppercase, lowercase, number and special symbol").required("Please enter the password").oneOf([y.e("password")],"Password and confirm password does not match")}),_=a(839),E=a.n(_),C=a(840),A=a.n(C),M=a(117),z=a(1);t.default=function(){var e=JSON.parse(localStorage.getItem("MAJESTIC_CASINO")).userdata,t=Object(g.useState)({status:null,msg:""}),a=Object(i.a)(t,2),s=a[0],y=a[1],S=Object(g.useState)(!1),_=Object(i.a)(S,2),C=_[0],I=_[1],N=function(){I(!C)},L=function(e){e.preventDefault()},T=Object(x.c)({initialValues:{password:"",confirm_password:""},validationSchema:P,onSubmit:function(t){R({email:e.AGENT_EMAIL,password:t.password})}}),R=function(){var e=Object(o.a)(n.a.mark((function e(t){var a,o,i,c,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,o=t.password,i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({AGENT_EMAIL:a,AGENT_PASSWORD:o})},e.next=4,fetch("".concat(w.a).concat(w.c.PASSWORDCHANGE),i);case 4:if(200!==(c=e.sent).status){e.next=11;break}return e.next=8,c.json();case 8:!0===(d=e.sent).status?y(Object(r.a)(Object(r.a)({},s),{},{status:"success",msg:d.msg})):y({status:"failed",msg:d.msg}),setTimeout((function(){y({status:null,msg:""})}),2e3);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)(c.a,{children:[Object(z.jsx)(M.a,{title:"Change Password",children:Object(z.jsx)(c.a,{children:Object(z.jsx)("form",{noValidate:!0,onSubmit:T.handleSubmit,onReset:T.handleBlur,children:Object(z.jsxs)(d.a,{container:!0,spacing:2,direction:"column",children:[Object(z.jsx)(d.a,{item:!0,children:Object(z.jsxs)(d.a,{container:!0,spacing:2,direction:"column",children:[Object(z.jsx)(d.a,{item:!0,sm:12,children:Object(z.jsxs)(l.a,{variant:"paragraph",style:{letterSpacing:1,fontWeight:900,fontSize:15},children:["Email: ",e.AGENT_EMAIL]})}),Object(z.jsx)(d.a,{item:!0,children:Object(z.jsxs)(u.a,{fullWidth:!0,error:T.touched.password&&Boolean(T.errors.password),children:[Object(z.jsx)(j.a,{htmlFor:"new_password",children:"New Password"}),Object(z.jsx)(b.a,{type:C?"text":"password",value:T.password,name:"password",onChange:T.handleChange,onBlur:T.handleBlur,id:"new_password",label:"New password",fullWidth:!0,endAdornment:Object(z.jsx)(p.a,{position:"end",children:Object(z.jsx)(m.a,{"aria-label":"toggle password visibility",onClick:N,onMouseDown:L,edge:"end",size:"large",children:C?Object(z.jsx)(E.a,{}):Object(z.jsx)(A.a,{})})})}),T.touched.password&&T.errors.password&&Object(z.jsx)(h.a,{id:"question-error",children:T.errors.password})]})}),Object(z.jsx)(d.a,{item:!0,children:Object(z.jsxs)(u.a,{fullWidth:!0,error:T.touched.confirm_password&&Boolean(T.errors.confirm_password),children:[Object(z.jsx)(j.a,{htmlFor:"confirm_password",children:"Confirm Password"}),Object(z.jsx)(b.a,{type:C?"text":"password",value:T.confirm_password,onChange:T.handleChange,onBlur:T.handleBlur,name:"confirm_password",id:"confirm_password",label:"Confirm password",fullWidth:!0,endAdornment:Object(z.jsx)(p.a,{position:"end",children:Object(z.jsx)(m.a,{"aria-label":"toggle password visibility",onClick:N,onMouseDown:L,edge:"end",size:"large",children:C?Object(z.jsx)(E.a,{}):Object(z.jsx)(A.a,{})})})}),T.touched.confirm_password&&T.errors.confirm_password&&Object(z.jsx)(h.a,{id:"question-error",children:T.errors.confirm_password})]})})]})}),Object(z.jsx)(d.a,{item:!0,children:Object(z.jsxs)(c.a,{style:{float:"right",padding:5},children:[Object(z.jsx)(O.a,{type:"reset",startIcon:Object(z.jsx)(f.U,{}),variant:"contained",color:"error",style:{marginRight:5},children:"Reset"}),Object(z.jsx)(O.a,{startIcon:Object(z.jsx)(f.D,{}),variant:"contained",color:"primary",style:{marginLeft:5},type:"submit",children:"Change Password"})]})})]})})})}),"failed"===s.status&&Object(z.jsx)(v.a,{status:"false",message:s.msg}),"success"===s.status&&Object(z.jsx)(v.a,{status:"true",message:s.msg})]})}},356:function(e,t,a){"use strict";var s=a(20),n=a(239),r=a(1179),o=a(1165),i=a(0),c=a(1);t.a=function(e){var t=e.status,a=e.message,d=Object(i.useState)(!1),l=Object(s.a)(d,2),u=l[0],j=l[1],b=Object(i.useState)(""),p=Object(s.a)(b,2),m=p[0],h=p[1],O=Object(i.useState)("error"),f=Object(s.a)(O,2),w=f[0],v=f[1];return Object(i.useEffect)((function(){(void 0!==t||null!==t&&void 0!==a||null!==a)&&(j(!u),h(a),v("true"===t?"success":"error"))}),[t,a]),Object(c.jsx)(n.a,{children:Object(c.jsx)(r.a,{open:u,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:4e3,onClose:function(){return j(!u)},children:Object(c.jsx)(o.a,{severity:w,style:{backgroundColor:"true"===t?"green":"red",color:"white"},id:"alert",children:m.toString()})})})}},839:function(e,t,a){"use strict";var s=a(86);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(87)),r=a(1),o=(0,n.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=o},840:function(e,t,a){"use strict";var s=a(86);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(87)),r=a(1),o=(0,n.default)((0,r.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");t.default=o},917:function(e,t,a){"use strict";var s=a(2),n=a(7),r=a(3),o=a(0),i=(a(14),a(11)),c=a(69),d=a(12),l=a(71),u=a(792),j=a(323),b=a(9),p=a(53),m=a(58);function h(e){return Object(p.a)("MuiInputAdornment",e)}var O=Object(m.a)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),f=a(15),w=a(1),v=["children","className","component","disablePointerEvents","disableTypography","position","variant"],x=Object(b.a)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,t["position".concat(Object(d.a)(a.position))],!0===a.disablePointerEvents&&t.disablePointerEvents,t[a.variant]]}})((function(e){var t=e.theme,a=e.ownerState;return Object(r.a)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:t.palette.action.active},"filled"===a.variant&&Object(s.a)({},"&.".concat(O.positionStart,"&:not(.").concat(O.hiddenLabel,")"),{marginTop:16}),"start"===a.position&&{marginRight:8},"end"===a.position&&{marginLeft:8},!0===a.disablePointerEvents&&{pointerEvents:"none"})})),g=o.forwardRef((function(e,t){var a=Object(f.a)({props:e,name:"MuiInputAdornment"}),s=a.children,b=a.className,p=a.component,m=void 0===p?"div":p,O=a.disablePointerEvents,g=void 0!==O&&O,y=a.disableTypography,S=void 0!==y&&y,P=a.position,_=a.variant,E=Object(n.a)(a,v),C=Object(j.a)()||{},A=_;_&&C.variant,C&&!A&&(A=C.variant);var M=Object(r.a)({},a,{hiddenLabel:C.hiddenLabel,size:C.size,disablePointerEvents:g,position:P,variant:A}),z=function(e){var t=e.classes,a=e.disablePointerEvents,s=e.hiddenLabel,n=e.position,r=e.size,o=e.variant,i={root:["root",a&&"disablePointerEvents",n&&"position".concat(Object(d.a)(n)),o,s&&"hiddenLabel",r&&"size".concat(Object(d.a)(r))]};return Object(c.a)(i,h,t)}(M);return Object(w.jsx)(u.a.Provider,{value:null,children:Object(w.jsx)(x,Object(r.a)({as:m,ownerState:M,className:Object(i.default)(z.root,b),ref:t},E,{children:"string"!==typeof s||S?Object(w.jsxs)(o.Fragment,{children:["start"===P?Object(w.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):null,s]}):Object(w.jsx)(l.a,{color:"text.secondary",children:s})}))})}));t.a=g}}]);
//# sourceMappingURL=31.e65eeb33.chunk.js.map