{"version":3,"sources":["views/pages/cms/termsAndConditions/index.js","components/NotFoundCard/index.js","components/Alert/index.js","components/Form/index.js"],"names":["TermsAndConditions","dispatch","useDispatch","settings","useSelector","state","navigate","useNavigate","useState","pageTitle","menupermission","JSON","parse","localStorage","getItem","pageUrl","window","location","href","split","menuPermissions","filter","permission","MENU_SLUG","length","title","secondary","ISUPDATE","startIcon","color","variant","sx","mr","ml","onClick","updateSettings","updatedData","TITLE","description","DESCRIPTION","id","SETTING_ID","ISVIEW","data","hasUpdatePermission","msg","NotFoundCard","style","display","height","justifyContent","alignItems","fullWidth","fontWeight","fontSize","AlertComponent","status","message","alertStatus","setAlertStatus","alertMessage","setAlertMessage","severity","setSeverity","useEffect","undefined","open","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","backgroundColor","toString","Form","EditorState","createEmpty","editorState","setEditorState","setTitle","setDescription","htmlContent","blocksFromHTML","convertFromHTML","ContentState","createFromBlockArray","contentBlocks","entityMap","createWithContent","getSettingsData","Title","Description","stateToHTML","getCurrentContent","setUpdatedData","htmlFor","disabled","value","name","label","onChange","e","target","padding","readOnly","onEditorStateChange","wrapperStyle","border","borderRadius","editorStyle","toolbarStyle"],"mappings":"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","file":"static/js/36.e2e74d20.chunk.js","sourcesContent":["import { useState } from 'react';\nimport { Box, Button } from '@mui/material';\nimport { IconEdit as SaveIcon, IconRefresh as ResetIcon, IconEye as PreviewIcon } from '@tabler/icons';\nimport { useNavigate } from 'react-router';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateSettings } from 'store/thunk/configuration/settings.thunk';\n\n// Components\nimport MainCard from '../../../../ui-component/cards/MainCard';\nimport Form from 'components/Form';\nimport NotFoundCard from 'components/NotFoundCard';\n\nfunction TermsAndConditions() {\n    const dispatch = useDispatch();\n    const settings = useSelector((state) => state.settings);\n    const navigate = useNavigate();\n    const [pageTitle, setPageTitle] = useState('Terms and Conditions');\n\n    const { menupermission } = JSON.parse(localStorage.getItem('MAJESTIC_CASINO'));\n\n    const pageUrl = window.location.href.split('/');\n    const menuPermissions = menupermission.filter(\n        (permission) => permission.MENU_SLUG === `/${pageUrl[pageUrl.length - 2]}/${pageUrl[pageUrl.length - 1]}`\n    )[0];\n\n    const handleUpdate = () => {\n        dispatch(\n            updateSettings({\n                title: settings.updatedData.TITLE,\n                description: settings.updatedData.DESCRIPTION,\n                pageTitle,\n                id: settings.updatedData.SETTING_ID\n            })\n        );\n    };\n\n    const handlePreview = () => {\n        navigate('/cms/preview', { state: settings.updatedData ? settings.updatedData : settings.data });\n    };\n\n    return (\n        <Box>\n            <MainCard\n                title=\"Terms and Conditions\"\n                secondary={\n                    <Box>\n                        {menuPermissions.ISUPDATE ? (\n                            <>\n                                <Button startIcon={<ResetIcon />} color=\"error\" variant=\"contained\">\n                                    Reset\n                                </Button>\n                                <Button\n                                    startIcon={<SaveIcon />}\n                                    color=\"primary\"\n                                    variant=\"contained\"\n                                    sx={{ mr: 3, ml: 3 }}\n                                    onClick={() => handleUpdate()}\n                                >\n                                    Update\n                                </Button>\n                            </>\n                        ) : null}\n                        {menuPermissions.ISVIEW ? (\n                            <Button startIcon={<PreviewIcon />} color=\"secondary\" variant=\"contained\" onClick={() => handlePreview()}>\n                                Preview\n                            </Button>\n                        ) : null}\n                    </Box>\n                }\n            >\n                <Box>\n                    {menuPermissions.ISVIEW ? (\n                        <Form pageTitle={pageTitle} hasUpdatePermission={menuPermissions.ISUPDATE} />\n                    ) : (\n                        <NotFoundCard msg=\"No Data Available\" />\n                    )}\n                </Box>\n            </MainCard>\n        </Box>\n    );\n}\n\nexport default TermsAndConditions;\n","import { Paper, Typography } from '@mui/material';\nimport { IconFilesOff as NoDataIcon } from '@tabler/icons';\nimport propTypes from 'prop-types';\n\nfunction NotFoundCard({ msg }) {\n    return (\n        <Paper style={{ display: 'flex', height: 60, justifyContent: 'center', alignItems: 'center' }} fullWidth>\n            <NoDataIcon />\n            <Typography style={{ fontWeight: 900, fontSize: 20 }}>{msg}</Typography>\n        </Paper>\n    );\n}\n\nNotFoundCard.propTypes = {\n    msg: propTypes.string\n};\n\nexport default NotFoundCard;\n","import { Box, Alert, Snackbar } from '@mui/material';\nimport { useEffect, useState } from 'react';\n\nfunction AlertComponent({ status, message }) {\n    const [alertStatus, setAlertStatus] = useState(false);\n    const [alertMessage, setAlertMessage] = useState('');\n    const [severity, setSeverity] = useState('error');\n\n    useEffect(() => {\n        if (status !== undefined || (status !== null && message !== undefined) || message !== null) {\n            setAlertStatus(!alertStatus);\n            setAlertMessage(message);\n            setSeverity(status === 'true' ? 'success' : 'error');\n        }\n    }, [status, message]);\n\n    return (\n        <Box>\n            <Snackbar\n                open={alertStatus}\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n                autoHideDuration={4000}\n                onClose={() => setAlertStatus(!alertStatus)}\n            >\n                <Alert severity={severity} style={{ backgroundColor: status === 'true' ? 'green' : 'red', color: 'white' }} id=\"alert\">\n                    {alertMessage.toString()}\n                </Alert>\n            </Snackbar>\n        </Box>\n    );\n}\n\nexport default AlertComponent;\n","import { useEffect, useState } from 'react';\nimport { Box, InputLabel, FormControl, OutlinedInput } from '@mui/material';\nimport { ContentState, EditorState, convertFromHTML } from 'draft-js';\nimport { stateToHTML } from 'draft-js-export-html';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateSettings, getSettingsData } from 'store/thunk/configuration/settings.thunk';\nimport AlertComponent from 'components/Alert';\nimport { setUpdatedData } from 'store/reducers/configuration/settings.reducer';\n\nfunction Form({ pageTitle, hasUpdatePermission }) {\n    const dispatch = useDispatch();\n    const settings = useSelector((state) => state.settings);\n\n    const [editorState, setEditorState] = useState(() => EditorState.createEmpty());\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n\n    useEffect(() => {\n        const htmlContent = settings.data.DESCRIPTION || `<h2>${pageTitle}</h2>`;\n        const blocksFromHTML = convertFromHTML(htmlContent);\n        const state = ContentState.createFromBlockArray(blocksFromHTML.contentBlocks, blocksFromHTML.entityMap);\n        setEditorState(() => EditorState.createWithContent(state));\n    }, [settings.data.DESCRIPTION]);\n\n    useEffect(() => {\n        dispatch(getSettingsData(pageTitle));\n    }, []);\n\n    useEffect(() => {\n        const Title = settings.data.TITLE;\n        const Description = settings.data.DESCRIPTION;\n        setTitle(Title);\n        setDescription(Description);\n    }, [settings.data]);\n\n    useEffect(() => {\n        setDescription(stateToHTML(editorState.getCurrentContent()));\n    }, [editorState]);\n\n    useEffect(() => {\n        dispatch(setUpdatedData({ TITLE: title, DESCRIPTION: description }));\n    }, [title, editorState]);\n\n    return (\n        <>\n            <Box>\n                <FormControl fullWidth>\n                    <InputLabel htmlFor=\"title\">Title</InputLabel>\n                    <OutlinedInput\n                        disabled={!hasUpdatePermission}\n                        value={title}\n                        name=\"title\"\n                        id=\"title\"\n                        label=\"Title\"\n                        onChange={(e) => setTitle(e.target.value)}\n                    />\n                </FormControl>\n                <Box>\n                    <InputLabel style={{ padding: 10 }}>Description</InputLabel>\n                    <Editor\n                        readOnly={!hasUpdatePermission}\n                        editorState={editorState}\n                        onEditorStateChange={setEditorState}\n                        wrapperStyle={{ padding: '1rem', border: '1px solid #ccc', borderRadius: 10 }}\n                        editorStyle={{ padding: '1rem', border: '1px solid #ccc', borderRadius: 10, height: '30rem' }}\n                        toolbarStyle={{ border: '1px solid #ccc', padding: '1rem', borderRadius: 10 }}\n                    />\n                </Box>\n            </Box>\n            {settings.status === 'failed' && <AlertComponent status=\"false\" message={settings.msg} />}\n            {settings.status === 'success' && <AlertComponent status=\"true\" message={settings.msg} />}\n        </>\n    );\n}\n\nexport default Form;\n"],"sourceRoot":""}